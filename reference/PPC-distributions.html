<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>PPC distributions — PPC-distributions • bayesplot</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="PPC distributions — PPC-distributions"><meta property="og:description" content="Compare the empirical distribution of the data y to the distributions of
simulated/replicated data yrep from the posterior predictive distribution.
See the Plot Descriptions section, below, for details."><meta property="og:image" content="https://mc-stan.org/bayesplot/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bayesplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.10.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://mc-stan.org/rstan" class="external-link">rstan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/cmdstanr" class="external-link">cmdstanr</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstanarm" class="external-link">rstanarm</a>
    </li>
    <li>
      <a href="https://mc-stan.org/shinystan" class="external-link">shinystan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/loo" class="external-link">loo</a>
    </li>
    <li>
      <a href="https://mc-stan.org/projpred" class="external-link">projpred</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstantools" class="external-link">rstantools</a>
    </li>
    <li>
      <a href="https://mc-stan.org/posterior" class="external-link">posterior</a>
    </li>
  </ul></li>
<li>
  <a href="https://mc-stan.org" class="external-link">Stan</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://twitter.com/mcmc_stan" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/bayesplot" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://discourse.mc-stan.org/" class="external-link">
    <span class="fa fa-users"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>PPC distributions</h1>
    <small class="dont-index">Source: <a href="https://github.com/stan-dev/bayesplot/blob/HEAD/R/ppc-distributions.R" class="external-link"><code>R/ppc-distributions.R</code></a></small>
    <div class="hidden name"><code>PPC-distributions.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compare the empirical distribution of the data <code>y</code> to the distributions of
simulated/replicated data <code>yrep</code> from the posterior predictive distribution.
See the <strong>Plot Descriptions</strong> section, below, for details.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ppc_data</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span>, group <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ppc_dens_overlay</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">yrep</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  size <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  trim <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  bw <span class="op">=</span> <span class="st">"nrd0"</span>,</span>
<span>  adjust <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  kernel <span class="op">=</span> <span class="st">"gaussian"</span>,</span>
<span>  n_dens <span class="op">=</span> <span class="fl">1024</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ppc_dens_overlay_grouped</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">yrep</span>,</span>
<span>  <span class="va">group</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  size <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  trim <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  bw <span class="op">=</span> <span class="st">"nrd0"</span>,</span>
<span>  adjust <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  kernel <span class="op">=</span> <span class="st">"gaussian"</span>,</span>
<span>  n_dens <span class="op">=</span> <span class="fl">1024</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ppc_ecdf_overlay</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">yrep</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  discrete <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  pad <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  size <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.7</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ppc_ecdf_overlay_grouped</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">yrep</span>,</span>
<span>  <span class="va">group</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  discrete <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  pad <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  size <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.7</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ppc_dens</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span>, <span class="va">...</span>, trim <span class="op">=</span> <span class="cn">FALSE</span>, size <span class="op">=</span> <span class="fl">0.5</span>, alpha <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ppc_hist</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span>, <span class="va">...</span>, binwidth <span class="op">=</span> <span class="cn">NULL</span>, breaks <span class="op">=</span> <span class="cn">NULL</span>, freq <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ppc_freqpoly</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span>, <span class="va">...</span>, binwidth <span class="op">=</span> <span class="cn">NULL</span>, freq <span class="op">=</span> <span class="cn">TRUE</span>, size <span class="op">=</span> <span class="fl">0.5</span>, alpha <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ppc_freqpoly_grouped</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">yrep</span>,</span>
<span>  <span class="va">group</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  binwidth <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  freq <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  size <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ppc_boxplot</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span>, <span class="va">...</span>, notch <span class="op">=</span> <span class="cn">TRUE</span>, size <span class="op">=</span> <span class="fl">0.5</span>, alpha <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ppc_violin_grouped</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">yrep</span>,</span>
<span>  <span class="va">group</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.5</span>, <span class="fl">0.9</span><span class="op">)</span>,</span>
<span>  size <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  y_draw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"violin"</span>, <span class="st">"points"</span>, <span class="st">"both"</span><span class="op">)</span>,</span>
<span>  y_size <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  y_alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  y_jitter <span class="op">=</span> <span class="fl">0.1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ppc_pit_ecdf</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">yrep</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  pit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  K <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  prob <span class="op">=</span> <span class="fl">0.99</span>,</span>
<span>  plot_diff <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  interpolate_adj <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ppc_pit_ecdf_grouped</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">yrep</span>,</span>
<span>  <span class="va">group</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  K <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  prob <span class="op">=</span> <span class="fl">0.99</span>,</span>
<span>  plot_diff <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  interpolate_adj <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>y</dt>
<dd><p>A vector of observations. See <strong>Details</strong>.</p></dd>


<dt>yrep</dt>
<dd><p>An <code>S</code> by <code>N</code> matrix of draws from the posterior (or prior)
predictive distribution. The number of rows, <code>S</code>, is the size of the
posterior (or prior) sample used to generate <code>yrep</code>. The number of columns,
<code>N</code> is the number of predicted observations (<code>length(y)</code>). The columns of
<code>yrep</code> should be in the same order as the data points in <code>y</code> for the plots
to make sense. See the <strong>Details</strong> and <strong>Plot Descriptions</strong> sections for
additional advice specific to particular plots.</p></dd>


<dt>group</dt>
<dd><p>A grouping variable of the same length as <code>y</code>.
Will be coerced to <a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a> if not already a factor.
Each value in <code>group</code> is interpreted as the group level pertaining
to the corresponding observation.</p></dd>


<dt>...</dt>
<dd><p>Currently unused.</p></dd>


<dt>size, alpha</dt>
<dd><p>Passed to the appropriate geom to control the appearance of
the predictive distributions.</p></dd>


<dt>trim</dt>
<dd><p>A logical scalar passed to <code><a href="https://ggplot2.tidyverse.org/reference/geom_density.html" class="external-link">ggplot2::geom_density()</a></code>.</p></dd>


<dt>bw, adjust, kernel, n_dens</dt>
<dd><p>Optional arguments passed to
<code><a href="https://rdrr.io/r/stats/density.html" class="external-link">stats::density()</a></code> to override default kernel density estimation
parameters. <code>n_dens</code> defaults to <code>1024</code>.</p></dd>


<dt>discrete</dt>
<dd><p>For <code>ppc_ecdf_overlay()</code>, should the data be treated as
discrete? The default is <code>FALSE</code>, in which case <code>geom="line"</code> is
passed to <code><a href="https://ggplot2.tidyverse.org/reference/stat_ecdf.html" class="external-link">ggplot2::stat_ecdf()</a></code>. If <code>discrete</code> is set to
<code>TRUE</code> then <code>geom="step"</code> is used.</p></dd>


<dt>pad</dt>
<dd><p>A logical scalar passed to <code><a href="https://ggplot2.tidyverse.org/reference/stat_ecdf.html" class="external-link">ggplot2::stat_ecdf()</a></code>.</p></dd>


<dt>binwidth</dt>
<dd><p>Passed to <code><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">ggplot2::geom_histogram()</a></code> to override
the default binwidth.</p></dd>


<dt>breaks</dt>
<dd><p>Passed to <code><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">ggplot2::geom_histogram()</a></code> as an
alternative to <code>binwidth</code>.</p></dd>


<dt>freq</dt>
<dd><p>For histograms, <code>freq=TRUE</code> (the default) puts count on the
y-axis. Setting <code>freq=FALSE</code> puts density on the y-axis. (For many
plots the y-axis text is off by default. To view the count or density
labels on the y-axis see the <code><a href="bayesplot-helpers.html">yaxis_text()</a></code> convenience
function.)</p></dd>


<dt>notch</dt>
<dd><p>For the box plot, a logical scalar passed to
<code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">ggplot2::geom_boxplot()</a></code>. Note: unlike <code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot()</a></code>, the default is
<code>notch=TRUE</code>.</p></dd>


<dt>probs</dt>
<dd><p>A numeric vector passed to <code><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html" class="external-link">ggplot2::geom_violin()</a></code>'s
<code>draw_quantiles</code> argument to specify at which quantiles to draw
horizontal lines. Set to <code>NULL</code> to remove the lines.</p></dd>


<dt>y_draw</dt>
<dd><p>For <code>ppc_violin_grouped()</code>, a string specifying how to draw
<code>y</code>: <code>"violin"</code> (default), <code>"points"</code> (jittered points), or <code>"both"</code>.</p></dd>


<dt>y_jitter, y_size, y_alpha</dt>
<dd><p>For <code>ppc_violin_grouped()</code>, if <code>y_draw</code> is
<code>"points"</code> or <code>"both"</code> then <code>y_size</code>, <code>y_alpha</code>, and <code>y_jitter</code> are passed
to to the <code>size</code>, <code>alpha</code>, and <code>width</code> arguments of <code><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html" class="external-link">ggplot2::geom_jitter()</a></code>
to control the appearance of <code>y</code> points. The default of <code>y_jitter=NULL</code>
will let <strong>ggplot2</strong> determine the amount of jitter.</p></dd>


<dt>pit</dt>
<dd><p>An optional vector of probability integral transformed values for
which the ECDF is to be drawn. If NULL, PIT values are computed to <code>y</code> with
respect to the corresponding values in <code>yrep</code>.</p></dd>


<dt>K</dt>
<dd><p>An optional integer defining the number of equally spaced evaluation
points for the ECDF. If the submitted PIT values are known to be discrete,
this should be the number of the discrete cases. Defaults to the smaller of
<code>length(y)</code> and <code>ncol(yrep)</code> when applicable.</p></dd>


<dt>prob</dt>
<dd><p>The desired simultaneous coverage level of the bands around the
ECDF. A value in (0,1).</p></dd>


<dt>plot_diff</dt>
<dd><p>A boolean defining whether to plot the difference between
the observed ECDF and the theoretical expectation for uniform PIT values
rather than plotting the regular ECDF. The default is <code>FALSE</code>, but for
large samples we recommend setting <code>plot_diff=TRUE</code> as the difference plot
will visually show a more dynamic range.</p></dd>


<dt>interpolate_adj</dt>
<dd><p>A boolean defining if the simultaneous confidence
bands should be interpolated based on precomputed values rather than
computed exactly. Computing the bands may be computationally intensive and
the approximation gives a fast method for assessing the ECDF trajectory.
The default is to use interpolation if <code>K</code> is greater than 200.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>The plotting functions return a ggplot object that can be further
customized using the <strong>ggplot2</strong> package. The functions with suffix
<code>_data()</code> return the data that would have been drawn by the plotting
function.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>For Binomial data, the plots may be more useful if
the input contains the "success" <em>proportions</em> (not discrete
"success" or "failure" counts).</p>
    </div>
    <div id="plot-descriptions">
    <h2>Plot Descriptions</h2>
    

<dl><dt><code>ppc_hist(), ppc_freqpoly(), ppc_dens(), ppc_boxplot()</code></dt>
<dd><p>A separate histogram, shaded frequency polygon, smoothed kernel density
estimate, or box and whiskers plot is displayed for <code>y</code> and each
dataset (row) in <code>yrep</code>. For these plots <code>yrep</code> should therefore
contain only a small number of rows. See the <strong>Examples</strong> section.</p></dd>

<dt><code>ppc_freqpoly_grouped()</code></dt>
<dd><p>A separate frequency polygon is plotted for each level of a grouping
variable for <code>y</code> and each dataset (row) in <code>yrep</code>. For this plot
<code>yrep</code> should therefore contain only a small number of rows. See the
<strong>Examples</strong> section.</p></dd>

<dt><code>ppc_ecdf_overlay(), ppc_dens_overlay(), ppc_ecdf_overlay_grouped(), ppc_dens_overlay_grouped()</code></dt>
<dd><p>Kernel density or empirical CDF estimates of each dataset (row) in
<code>yrep</code> are overlaid, with the distribution of <code>y</code> itself on top
(and in a darker shade). When using <code>ppc_ecdf_overlay()</code> with discrete
data, set the <code>discrete</code> argument to <code>TRUE</code> for better results.
For an example of <code>ppc_dens_overlay()</code> also see Gabry et al. (2019).</p></dd>

<dt><code>ppc_violin_grouped()</code></dt>
<dd><p>The density estimate of <code>yrep</code> within each level of a grouping
variable is plotted as a violin with horizontal lines at notable
quantiles. <code>y</code> is overlaid on the plot either as a violin, points, or
both, depending on the <code>y_draw</code> argument.</p></dd>

<dt><code>ppc_pit_ecdf()</code>, <code>ppc_pit_ecdf_grouped()</code></dt>
<dd><p>The ECDF of the empirical PIT values of <code>y</code> computed with respect to the
corresponding <code>yrep</code> values. <code>100 * prob</code>% central simultaneous confidence
intervals are provided to asses if <code>y</code> and <code>yrep</code> originate from the same
distribution. The PIT values can also be provided directly as <code>pit</code>.
See Säilynoja et al. (2021) for more details.</p></dd>


</dl></div>
    <div id="references">
    <h2>References</h2>
    <p>Gabry, J. , Simpson, D. , Vehtari, A. , Betancourt, M. and
Gelman, A. (2019), Visualization in Bayesian workflow.
<em>J. R. Stat. Soc. A</em>, 182: 389-402. doi:10.1111/rssa.12378.
(<a href="https://rss.onlinelibrary.wiley.com/doi/full/10.1111/rssa.12378" class="external-link">journal version</a>,
<a href="https://arxiv.org/abs/1709.01449" class="external-link">arXiv preprint</a>,
<a href="https://github.com/jgabry/bayes-vis-paper" class="external-link">code on GitHub</a>)</p>
<p>Säilynoja, T., Bürkner, P., Vehtari, A.
(2021). Graphical Test for Discrete Uniformity and its Applications in
Goodness of Fit Evaluation and Multiple Sample Comparison <a href="https://arxiv.org/abs/2103.10522" class="external-link">arXiv preprint</a>.</p>
<p>Gelman, A., Carlin, J. B., Stern, H. S., Dunson, D. B., Vehtari,
A., and Rubin, D. B. (2013). <em>Bayesian Data Analysis.</em> Chapman &amp; Hall/CRC
Press, London, third edition. (Ch. 6)</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other PPCs: 
<code><a href="PPC-censoring.html">PPC-censoring</a></code>,
<code><a href="PPC-discrete.html">PPC-discrete</a></code>,
<code><a href="PPC-errors.html">PPC-errors</a></code>,
<code><a href="PPC-intervals.html">PPC-intervals</a></code>,
<code><a href="PPC-loo.html">PPC-loo</a></code>,
<code><a href="PPC-overview.html">PPC-overview</a></code>,
<code><a href="PPC-scatterplots.html">PPC-scatterplots</a></code>,
<code><a href="PPC-test-statistics.html">PPC-test-statistics</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="bayesplot-colors.html">color_scheme_set</a></span><span class="op">(</span><span class="st">"brightblue"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="example-data.html">example_y_data</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">yrep</span> <span class="op">&lt;-</span> <span class="fu"><a href="example-data.html">example_yrep_draws</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">group</span> <span class="op">&lt;-</span> <span class="fu"><a href="example-data.html">example_group_data</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">yrep</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 500 434</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">ppc_dens_overlay</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>, <span class="op">]</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PPC-distributions-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># ppc_ecdf_overlay with continuous data (set discrete=TRUE if discrete data)</span></span></span>
<span class="r-in"><span><span class="fu">ppc_ecdf_overlay</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">yrep</span><span class="op">)</span>, <span class="fl">25</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PPC-distributions-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ECDF and ECDF difference plot of the PIT values of y compared to yrep</span></span></span>
<span class="r-in"><span><span class="co"># with 99% simultaneous confidence bands.</span></span></span>
<span class="r-in"><span><span class="fu">ppc_pit_ecdf</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span>, prob <span class="op">=</span> <span class="fl">0.99</span>, plot_diff <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PPC-distributions-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">ppc_pit_ecdf</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span>, prob <span class="op">=</span> <span class="fl">0.99</span>, plot_diff <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PPC-distributions-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># for ppc_hist,dens,freqpoly,boxplot definitely use a subset yrep rows so</span></span></span>
<span class="r-in"><span><span class="co"># only a few (instead of nrow(yrep)) histograms are plotted</span></span></span>
<span class="r-in"><span><span class="fu">ppc_hist</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, <span class="op">]</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span>
<span class="r-plt img"><img src="PPC-distributions-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="bayesplot-colors.html">color_scheme_set</a></span><span class="op">(</span><span class="st">"red"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ppc_boxplot</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, <span class="op">]</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PPC-distributions-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># wizard hat plot</span></span></span>
<span class="r-in"><span><span class="fu"><a href="bayesplot-colors.html">color_scheme_set</a></span><span class="op">(</span><span class="st">"blue"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ppc_dens</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span><span class="op">[</span><span class="fl">200</span><span class="op">:</span><span class="fl">202</span>, <span class="op">]</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PPC-distributions-7.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># frequency polygons</span></span></span>
<span class="r-in"><span><span class="fu">ppc_freqpoly</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="op">]</span>, alpha <span class="op">=</span> <span class="fl">0.1</span>, size <span class="op">=</span> <span class="fl">1</span>, binwidth <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PPC-distributions-8.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">ppc_freqpoly_grouped</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="op">]</span>, <span class="va">group</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="bayesplot-helpers.html">yaxis_text</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span>
<span class="r-plt img"><img src="PPC-distributions-9.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># if groups are different sizes then the 'freq' argument can be useful</span></span></span>
<span class="r-in"><span><span class="fu">ppc_freqpoly_grouped</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="op">]</span>, <span class="va">group</span>, freq <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="bayesplot-helpers.html">yaxis_text</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span>
<span class="r-plt img"><img src="PPC-distributions-10.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># density and distribution overlays by group</span></span></span>
<span class="r-in"><span><span class="fu">ppc_dens_overlay_grouped</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>, <span class="op">]</span>, group <span class="op">=</span> <span class="va">group</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PPC-distributions-11.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">ppc_ecdf_overlay_grouped</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>, <span class="op">]</span>, group <span class="op">=</span> <span class="va">group</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PPC-distributions-12.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># ECDF difference plots of the PIT values by group</span></span></span>
<span class="r-in"><span><span class="co"># with 99% simultaneous confidence bands.</span></span></span>
<span class="r-in"><span><span class="fu">ppc_pit_ecdf_grouped</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span>, group<span class="op">=</span><span class="va">group</span>, prob<span class="op">=</span><span class="fl">0.99</span>, plot_diff <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PPC-distributions-13.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># don't need to only use small number of rows for ppc_violin_grouped</span></span></span>
<span class="r-in"><span><span class="co"># (as it pools yrep draws within groups)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="bayesplot-colors.html">color_scheme_set</a></span><span class="op">(</span><span class="st">"gray"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ppc_violin_grouped</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span>, <span class="va">group</span>, size <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PPC-distributions-14.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">ppc_violin_grouped</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span>, <span class="va">group</span>, alpha <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PPC-distributions-15.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># change how y is drawn</span></span></span>
<span class="r-in"><span><span class="fu">ppc_violin_grouped</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span>, <span class="va">group</span>, alpha <span class="op">=</span> <span class="fl">0</span>, y_draw <span class="op">=</span> <span class="st">"points"</span>, y_size <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PPC-distributions-16.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">ppc_violin_grouped</span><span class="op">(</span><span class="va">y</span>, <span class="va">yrep</span>, <span class="va">group</span>,</span></span>
<span class="r-in"><span>  alpha <span class="op">=</span> <span class="fl">0</span>, y_draw <span class="op">=</span> <span class="st">"both"</span>,</span></span>
<span class="r-in"><span>  y_size <span class="op">=</span> <span class="fl">1.5</span>, y_alpha <span class="op">=</span> <span class="fl">0.5</span>, y_jitter <span class="op">=</span> <span class="fl">0.33</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="PPC-distributions-17.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jonah Gabry, Tristan Mahr.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '28ab84fbf0d3f58232875561b9a208cd',
    indexName: 'bayesplot',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

