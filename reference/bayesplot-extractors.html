<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extract quantities needed for plotting from model objects — bayesplot-extractors • bayesplot</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Extract quantities needed for plotting from model objects — bayesplot-extractors" />

<meta property="og:description" content="Generics and methods for extracting quantities needed for plotting from
various types of model objects. Currently methods are only provided for
stanfit (rstan) and stanreg (stanreg) objects, but adding new
methods should be relatively straightforward." />

<meta property="og:image" content="https://mc-stan.org/bayesplot/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bayesplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://mc-stan.org/rstan">rstan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstanarm">rstanarm</a>
    </li>
    <li>
      <a href="https://mc-stan.org/shinystan">shinystan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/loo">loo</a>
    </li>
    <li>
      <a href="https://mc-stan.org/projpred">projpred</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstantools">rstantools</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://mc-stan.org">Stan</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/mcmc_stan">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/bayesplot">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://discourse.mc-stan.org/">
    <span class="fa fa-users"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract quantities needed for plotting from model objects</h1>
    
    <div class="hidden name"><code>bayesplot-extractors.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Generics and methods for extracting quantities needed for plotting from
various types of model objects. Currently methods are only provided for
stanfit (<strong>rstan</strong>) and stanreg (<strong>stanreg</strong>) objects, but adding new
methods should be relatively straightforward.</p>
    
    </div>

    <pre class="usage"><span class='fu'>log_posterior</span>(<span class='no'>object</span>, <span class='no'>...</span>)

<span class='fu'>nuts_params</span>(<span class='no'>object</span>, <span class='no'>...</span>)

<span class='fu'>rhat</span>(<span class='no'>object</span>, <span class='no'>...</span>)

<span class='fu'>neff_ratio</span>(<span class='no'>object</span>, <span class='no'>...</span>)

<span class='co'># S3 method for stanfit</span>
<span class='fu'>log_posterior</span>(<span class='no'>object</span>, <span class='kw'>inc_warmup</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for stanreg</span>
<span class='fu'>log_posterior</span>(<span class='no'>object</span>, <span class='kw'>inc_warmup</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for stanfit</span>
<span class='fu'>nuts_params</span>(<span class='no'>object</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>inc_warmup</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='no'>...</span>)

<span class='co'># S3 method for stanreg</span>
<span class='fu'>nuts_params</span>(<span class='no'>object</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>inc_warmup</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='no'>...</span>)

<span class='co'># S3 method for list</span>
<span class='fu'>nuts_params</span>(<span class='no'>object</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for stanfit</span>
<span class='fu'>rhat</span>(<span class='no'>object</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for stanreg</span>
<span class='fu'>rhat</span>(<span class='no'>object</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>regex_pars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for stanfit</span>
<span class='fu'>neff_ratio</span>(<span class='no'>object</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for stanreg</span>
<span class='fu'>neff_ratio</span>(<span class='no'>object</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>regex_pars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>The object to use.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments passed to individual methods.</p></td>
    </tr>
    <tr>
      <th>inc_warmup</th>
      <td><p>A logical scalar (defaulting to <code>FALSE</code>) indicating
whether to include warmup draws, if applicable.</p></td>
    </tr>
    <tr>
      <th>pars</th>
      <td><p>An optional character vector of parameter names. For
<code>nuts_params()</code> these will be NUTS sampler parameter names rather than
model parameters. If <code>pars</code> is omitted all parameters are included.</p></td>
    </tr>
    <tr>
      <th>regex_pars</th>
      <td><p>An optional <a href='https://www.rdocumentation.org/packages/base/topics/grep'>regular expression</a> to use for
parameter selection. Can be specified instead of <code>pars</code> or in addition to
<code>pars</code>. When using <code>pars</code> for tidy parameter selection, the <code>regex_pars</code>
argument is ignored since <a href='https://www.rdocumentation.org/packages/tidyselect/topics/select_helpers'>select helpers</a>
perform a similar function.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    
<dl class='dl-horizontal'>
<dt><code>log_posterior()</code></dt><dd><p><code>log_posterior()</code> methods return a molten data frame (see <code><a href='https://www.rdocumentation.org/packages/reshape2/topics/melt'>reshape2::melt()</a></code>).
The data frame should have columns <code>"Iteration"</code> (integer), <code>"Chain"</code>
(integer), and <code>"Value"</code> (numeric). See <strong>Examples</strong>, below.</p></dd>
<dt><code>nuts_params()</code></dt><dd><p><code>nuts_params()</code> methods return a molten data frame (see <code><a href='https://www.rdocumentation.org/packages/reshape2/topics/melt'>reshape2::melt()</a></code>).
The data frame should have columns <code>"Parameter"</code> (factor), <code>"Iteration"</code>
(integer), <code>"Chain"</code> (integer), and <code>"Value"</code> (numeric). See <strong>Examples</strong>, below.</p></dd>
<dt><code>rhat()</code>, <code>neff_ratio()</code></dt><dd><p>Methods return (named) vectors.</p></dd>
</dl>

    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='MCMC-nuts.html'>MCMC-nuts</a>, <a href='MCMC-diagnostics.html'>MCMC-diagnostics</a></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>rstanarm</span>)
<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/rstanarm/topics/stan_glm'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>, <span class='kw'>refresh</span> <span class='kw'>=</span> <span class='fl'>0</span>)

<span class='no'>np</span> <span class='kw'>&lt;-</span> <span class='fu'>nuts_params</span>(<span class='no'>fit</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='no'>np</span>)</div><div class='output co'>#&gt;   Iteration     Parameter     Value Chain
#&gt; 1         1 accept_stat__ 0.7959114     1
#&gt; 2         2 accept_stat__ 0.9530362     1
#&gt; 3         3 accept_stat__ 0.9324149     1
#&gt; 4         4 accept_stat__ 0.9940184     1
#&gt; 5         5 accept_stat__ 0.9783435     1
#&gt; 6         6 accept_stat__ 0.9573124     1</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>tail</a></span>(<span class='no'>np</span>)</div><div class='output co'>#&gt;       Iteration Parameter    Value Chain
#&gt; 23995       995  energy__ 93.36461     4
#&gt; 23996       996  energy__ 89.54952     4
#&gt; 23997       997  energy__ 88.68174     4
#&gt; 23998       998  energy__ 90.49492     4
#&gt; 23999       999  energy__ 89.65802     4
#&gt; 24000      1000  energy__ 88.86220     4</div><div class='input'>
<span class='no'>lp</span> <span class='kw'>&lt;-</span> <span class='fu'>log_posterior</span>(<span class='no'>fit</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='no'>lp</span>)</div><div class='output co'>#&gt;   Iteration     Value Chain
#&gt; 1         1 -88.12764     1
#&gt; 2         2 -88.74532     1
#&gt; 3         3 -91.04726     1
#&gt; 4         4 -90.13570     1
#&gt; 5         5 -88.06601     1
#&gt; 6         6 -88.77880     1</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>tail</a></span>(<span class='no'>lp</span>)</div><div class='output co'>#&gt;      Iteration     Value Chain
#&gt; 3995       995 -87.72254     4
#&gt; 3996       996 -88.32615     4
#&gt; 3997       997 -87.69828     4
#&gt; 3998       998 -88.24352     4
#&gt; 3999       999 -88.42873     4
#&gt; 4000      1000 -88.70642     4</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jonah Gabry, Tristan Mahr.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '28ab84fbf0d3f58232875561b9a208cd',
    indexName: 'bayesplot',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

