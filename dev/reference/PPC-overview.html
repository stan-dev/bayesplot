<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- upstream: inst/BS5/templates/head.html; pkgdown-version: 2.1.3, fe04924 --><!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 --><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Graphical posterior predictive checking — PPC-overview • bayesplot</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_3-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- Font Awesome 7.0.1 for Bluesky icon --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" referrerpolicy="no-referrer"><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Graphical posterior predictive checking — PPC-overview"><meta name="description" content="The bayesplot PPC module provides various plotting functions
for creating graphical displays comparing observed data to simulated data
from the posterior (or prior) predictive distribution. See the sections
below for a brief discussion of the ideas behind posterior predictive
checking, an overview of the available PPC plots, and tips on providing an
interface to bayesplot from another package.
For plots of posterior (or prior) predictive distributions that do not
include observed data see PPD-overview instead."><meta property="og:description" content="The bayesplot PPC module provides various plotting functions
for creating graphical displays comparing observed data to simulated data
from the posterior (or prior) predictive distribution. See the sections
below for a brief discussion of the ideas behind posterior predictive
checking, an overview of the available PPC plots, and tips on providing an
interface to bayesplot from another package.
For plots of posterior (or prior) predictive distributions that do not
include observed data see PPD-overview instead."><meta property="og:image" content="https://mc-stan.org/bayesplot/logo.svg"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <!-- upstream: inst/BS5/templates/navbar.html; pkgdown-version: 2.1.3, fe04924 -->
<!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 -->
<nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">


    <a class="navbar-brand me-2" href="../index.html">
      <!-- Add Stan logo -->
      <picture><source type="image/svg+xml" srcset="../logo.svg"><img src="../logo.png" class="stan-logo" alt="Stan blue hex logo"></source></picture>
      bayesplot
    </a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.14.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Go to homepage"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-other-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Other Packages</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-other-packages"><li><a class="external-link dropdown-item" href="https://mc-stan.org/cmdstanr">cmdstanr</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/loo">loo</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/posterior">posterior</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/projpred">projpred</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstan">rstan</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstanarm">rstanarm</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstantools">rstantools</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/shinystan">shinystan</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mc-stan.org/about/">About Stan</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bsky.app/profile/did:plc:qznndgdnkem2yryu7ipqbpv7" aria-label="Visit our Bluesky profile"><span class="fa fa-brands fa-bluesky"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://discourse.mc-stan.org/" aria-label="Visit our forums"><span class="fa fa-users"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stan-dev/bayesplot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Graphical posterior predictive checking</h1>
      <small class="dont-index">Source: <a href="https://github.com/stan-dev/bayesplot/blob/new-pkgdown-setup/R/ppc-overview.R" class="external-link"><code>R/ppc-overview.R</code></a></small>
      <div class="d-none name"><code>PPC-overview.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <strong>bayesplot</strong> PPC module provides various plotting functions
for creating graphical displays comparing observed data to simulated data
from the posterior (or prior) predictive distribution. See the sections
below for a brief discussion of the ideas behind posterior predictive
checking, an overview of the available PPC plots, and tips on providing an
interface to <strong>bayesplot</strong> from another package.</p>
<p>For plots of posterior (or prior) predictive distributions that do <em>not</em>
include observed data see <a href="PPD-overview.html">PPD-overview</a> instead.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The idea behind posterior predictive checking is simple: if a model
is a good fit then we should be able to use it to generate data that looks
a lot like the data we observed.</p>
<div class="section">
<h3 id="posterior-predictive-distribution">Posterior predictive distribution<a class="anchor" aria-label="anchor" href="#posterior-predictive-distribution"></a></h3>
<p>To generate the data used for posterior predictive checks we simulate from
the <em>posterior predictive distribution</em>. The posterior predictive
distribution is the distribution of the outcome variable implied by a model
after using the observed data \(y\) (a vector of outcome values), and
typically predictors \(X\), to update our beliefs about the unknown
parameters \(\theta\) in the model. For each draw of the parameters
\(\theta\) from the posterior distribution
\(p(\theta \,|\, y, X)\)
we generate an entire vector of outcomes. The result is
an \(S \times N\) matrix of simulations, where \(S\) is the the
size of the posterior sample (number of draws from the posterior
distribution) and \(N\) is the number of data points in \(y\). That is,
each row of the matrix is an individual "replicated" dataset of \(N\)
observations.</p>
</div>
<div class="section">
<h3 id="notation">Notation<a class="anchor" aria-label="anchor" href="#notation"></a></h3>
<p>When simulating from the posterior predictive distribution we can use either
the same values of the predictors \(X\) that we used when fitting the model
or new observations of those predictors. When we use the same values of
\(X\) we denote the resulting simulations by \(y^{rep}\) as they
can be thought of as <em>replications</em> of the outcome \(y\) rather than
predictions for future observations. This corresponds to the notation from
Gelman et. al. (2013) and is the notation used throughout the documentation
for this package.</p>
</div>
<div class="section">
<h3 id="graphical-posterior-predictive-checking">Graphical posterior predictive checking<a class="anchor" aria-label="anchor" href="#graphical-posterior-predictive-checking"></a></h3>
<p>Using the datasets \(y^{rep}\) drawn from the posterior predictive
distribution, the functions in the <strong>bayesplot</strong> package produce various
graphical displays comparing the observed data \(y\) to the replications.
For a more thorough discussion of posterior predictive checking see
Chapter 6 of Gelman et. al. (2013).</p>
</div>
<div class="section">
<h3 id="prior-predictive-checking">Prior predictive checking<a class="anchor" aria-label="anchor" href="#prior-predictive-checking"></a></h3>
<p>To use <strong>bayesplot</strong> for <em>prior</em> predictive checks you can simply use draws
from the prior predictive distribution instead of the posterior predictive
distribution. See Gabry et al. (2019) for more on prior predictive checking
and when it is reasonable to compare the prior predictive distribution to the
observed data. If you want to avoid using the observed data for prior
predictive checks then you can use the <strong>bayesplot</strong> <a href="PPD-overview.html">PPD</a> plots instead,
which do not take a <code>y</code> argument, or you can use the PPC plots but provide
plausible or implausible <code>y</code> values that you want to compare to the prior
predictive realizations.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="ppc-plotting-functions">PPC plotting functions<a class="anchor" aria-label="anchor" href="#ppc-plotting-functions"></a></h2>
    <p>The plotting functions for prior and
posterior predictive checking all have the prefix <code>ppc_</code> and all require
the arguments <code>y</code>, a vector of observations, and <code>yrep</code>, a matrix of
replications (in-sample predictions). The plots are organized into several
categories, each with its own documentation:</p><ul><li><p><a href="PPC-distributions.html">PPC-distributions</a>: Histograms, kernel density estimates, boxplots, and
other plots comparing the empirical distribution of data <code>y</code> to the
distributions of individual simulated datasets (rows) in <code>yrep</code>.</p></li>
<li><p><a href="PPC-test-statistics.html">PPC-test-statistics</a>: The distribution of a statistic, or a pair of
statistics, over the simulated datasets (rows) in <code>yrep</code> compared to value of
the statistic(s) computed from <code>y</code>.</p></li>
<li><p><a href="PPC-intervals.html">PPC-intervals</a>: Interval estimates of <code>yrep</code> with <code>y</code>
overlaid. The x-axis variable can be optionally specified by the user
(e.g. to plot against a predictor variable or over time).</p></li>
<li><p><a href="PPC-errors.html">PPC-errors</a>: Plots of predictive errors (<code>y - yrep</code>) computed from <code>y</code> and
each of the simulated datasets (rows) in <code>yrep</code>. For binomial models binned
error plots are also available.</p></li>
<li><p><a href="PPC-scatterplots.html">PPC-scatterplots</a>: Scatterplots (and similar visualizations) of the data
<code>y</code> vs. individual simulated datasets (rows) in <code>yrep</code>, or vs. the average
value of the distributions of each data point (columns) in <code>yrep</code>.</p></li>
<li><p><a href="PPC-discrete.html">PPC-discrete</a>: PPC functions that can only be used if <code>y</code> and <code>yrep</code> are
discrete. For example, rootograms for count outcomes and bar plots for
ordinal, categorical, and multinomial outcomes.</p></li>
<li><p><a href="PPC-loo.html">PPC-loo</a>: PPC functions for predictive checks based on (approximate)
leave-one-out (LOO) cross-validation.
'</p></li>
<li><p><a href="PPC-censoring.html">PPC-censoring</a>: PPC functions comparing the empirical
distribution of censored data <code>y</code> to the distributions of individual
simulated datasets (rows) in <code>yrep</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="providing-an-interface-for-predictive-checking-from-another-package">Providing an interface for predictive checking from another package<a class="anchor" aria-label="anchor" href="#providing-an-interface-for-predictive-checking-from-another-package"></a></h2>



<p>In addition to the various plotting functions, the <strong>bayesplot</strong> package
provides the S3 generic <code><a href="pp_check.html">pp_check()</a></code>. Authors of <span style="R">R</span> packages for
Bayesian inference are encouraged to define <code><a href="pp_check.html">pp_check()</a></code> methods for the
fitted model objects created by their packages. See the package vignettes for
more details and a simple example, and see the <strong>rstanarm</strong> and <strong>brms</strong>
packages for full examples of <code><a href="pp_check.html">pp_check()</a></code> methods.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Gabry, J. , Simpson, D. , Vehtari, A. , Betancourt, M. and
Gelman, A. (2019), Visualization in Bayesian workflow.
<em>J. R. Stat. Soc. A</em>, 182: 389-402. doi:10.1111/rssa.12378.
(<a href="https://rss.onlinelibrary.wiley.com/doi/full/10.1111/rssa.12378" class="external-link">journal version</a>,
<a href="https://arxiv.org/abs/1709.01449" class="external-link">arXiv preprint</a>,
<a href="https://github.com/jgabry/bayes-vis-paper" class="external-link">code on GitHub</a>)</p>
<p>Gelman, A., Carlin, J. B., Stern, H. S., Dunson, D. B., Vehtari,
A., and Rubin, D. B. (2013). <em>Bayesian Data Analysis.</em> Chapman &amp; Hall/CRC
Press, London, third edition. (Ch. 6)</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other PPCs:
<code><a href="PPC-censoring.html">PPC-censoring</a></code>,
<code><a href="PPC-discrete.html">PPC-discrete</a></code>,
<code><a href="PPC-distributions.html">PPC-distributions</a></code>,
<code><a href="PPC-errors.html">PPC-errors</a></code>,
<code><a href="PPC-intervals.html">PPC-intervals</a></code>,
<code><a href="PPC-loo.html">PPC-loo</a></code>,
<code><a href="PPC-scatterplots.html">PPC-scatterplots</a></code>,
<code><a href="PPC-test-statistics.html">PPC-test-statistics</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jonah Gabry, Tristan Mahr.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

