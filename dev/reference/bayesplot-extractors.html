<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- upstream: inst/BS5/templates/head.html; pkgdown-version: 2.1.3, fe04924 --><!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 --><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extract quantities needed for plotting from model objects — bayesplot-extractors • bayesplot</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_3-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- Font Awesome 7.0.1 for Bluesky icon --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" referrerpolicy="no-referrer"><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract quantities needed for plotting from model objects — bayesplot-extractors"><meta name="description" content="Generics and methods for extracting quantities needed for plotting from
various types of model objects. Currently methods are provided for stanfit
(rstan), CmdStanMCMC (cmdstanr), and stanreg (rstanarm) objects,
but adding new methods should be relatively straightforward."><meta property="og:description" content="Generics and methods for extracting quantities needed for plotting from
various types of model objects. Currently methods are provided for stanfit
(rstan), CmdStanMCMC (cmdstanr), and stanreg (rstanarm) objects,
but adding new methods should be relatively straightforward."><meta property="og:image" content="https://mc-stan.org/bayesplot/logo.svg"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <!-- upstream: inst/BS5/templates/navbar.html; pkgdown-version: 2.1.3, fe04924 -->
<!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 -->
<nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">


    <a class="navbar-brand me-2" href="../index.html">
      <!-- Add Stan logo -->
      <picture><source type="image/svg+xml" srcset="../logo.svg"><img src="../logo.png" class="stan-logo" alt="Stan blue hex logo"></source></picture>
      bayesplot
    </a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.14.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Go to homepage"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-other-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Other Packages</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-other-packages"><li><a class="external-link dropdown-item" href="https://mc-stan.org/cmdstanr">cmdstanr</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/loo">loo</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/posterior">posterior</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/projpred">projpred</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstan">rstan</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstanarm">rstanarm</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstantools">rstantools</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/shinystan">shinystan</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mc-stan.org/about/">About Stan</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bsky.app/profile/did:plc:qznndgdnkem2yryu7ipqbpv7" aria-label="Visit our Bluesky profile"><span class="fa fa-brands fa-bluesky"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://discourse.mc-stan.org/" aria-label="Visit our forums"><span class="fa fa-users"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stan-dev/bayesplot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Extract quantities needed for plotting from model objects</h1>
      <small class="dont-index">Source: <a href="https://github.com/stan-dev/bayesplot/blob/master/R/bayesplot-extractors.R" class="external-link"><code>R/bayesplot-extractors.R</code></a></small>
      <div class="d-none name"><code>bayesplot-extractors.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generics and methods for extracting quantities needed for plotting from
various types of model objects. Currently methods are provided for stanfit
(<strong>rstan</strong>), CmdStanMCMC (<strong>cmdstanr</strong>), and stanreg (<strong>rstanarm</strong>) objects,
but adding new methods should be relatively straightforward.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">log_posterior</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">nuts_params</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">rhat</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">neff_ratio</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'stanfit'</span></span>
<span><span class="fu">log_posterior</span><span class="op">(</span><span class="va">object</span>, inc_warmup <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'stanreg'</span></span>
<span><span class="fu">log_posterior</span><span class="op">(</span><span class="va">object</span>, inc_warmup <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'CmdStanMCMC'</span></span>
<span><span class="fu">log_posterior</span><span class="op">(</span><span class="va">object</span>, inc_warmup <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'stanfit'</span></span>
<span><span class="fu">nuts_params</span><span class="op">(</span><span class="va">object</span>, pars <span class="op">=</span> <span class="cn">NULL</span>, inc_warmup <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'stanreg'</span></span>
<span><span class="fu">nuts_params</span><span class="op">(</span><span class="va">object</span>, pars <span class="op">=</span> <span class="cn">NULL</span>, inc_warmup <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'list'</span></span>
<span><span class="fu">nuts_params</span><span class="op">(</span><span class="va">object</span>, pars <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'CmdStanMCMC'</span></span>
<span><span class="fu">nuts_params</span><span class="op">(</span><span class="va">object</span>, pars <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'stanfit'</span></span>
<span><span class="fu">rhat</span><span class="op">(</span><span class="va">object</span>, pars <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'stanreg'</span></span>
<span><span class="fu">rhat</span><span class="op">(</span><span class="va">object</span>, pars <span class="op">=</span> <span class="cn">NULL</span>, regex_pars <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'CmdStanMCMC'</span></span>
<span><span class="fu">rhat</span><span class="op">(</span><span class="va">object</span>, pars <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'stanfit'</span></span>
<span><span class="fu">neff_ratio</span><span class="op">(</span><span class="va">object</span>, pars <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'stanreg'</span></span>
<span><span class="fu">neff_ratio</span><span class="op">(</span><span class="va">object</span>, pars <span class="op">=</span> <span class="cn">NULL</span>, regex_pars <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'CmdStanMCMC'</span></span>
<span><span class="fu">neff_ratio</span><span class="op">(</span><span class="va">object</span>, pars <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>The object to use.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed to individual methods.</p></dd>


<dt id="arg-inc-warmup">inc_warmup<a class="anchor" aria-label="anchor" href="#arg-inc-warmup"></a></dt>
<dd><p>A logical scalar (defaulting to <code>FALSE</code>) indicating
whether to include warmup draws, if applicable.</p></dd>


<dt id="arg-pars">pars<a class="anchor" aria-label="anchor" href="#arg-pars"></a></dt>
<dd><p>An optional character vector of parameter names. For
<code>nuts_params()</code> these will be NUTS sampler parameter names rather than
model parameters. If <code>pars</code> is omitted all parameters are included.</p></dd>


<dt id="arg-regex-pars">regex_pars<a class="anchor" aria-label="anchor" href="#arg-regex-pars"></a></dt>
<dd><p>An optional <a href="https://rdrr.io/r/base/grep.html" class="external-link">regular expression</a> to use for
parameter selection. Can be specified instead of <code>pars</code> or in addition to
<code>pars</code>. When using <code>pars</code> for tidy parameter selection, the <code>regex_pars</code>
argument is ignored since <a href="https://tidyselect.r-lib.org/reference/language.html" class="external-link">select helpers</a>
perform a similar function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>

<dl><dt><code>log_posterior()</code></dt>
<dd><p><code>log_posterior()</code> methods return a molten data frame (see <code><a href="https://rdrr.io/pkg/reshape2/man/melt.html" class="external-link">reshape2::melt()</a></code>).
The data frame should have columns <code>"Iteration"</code> (integer), <code>"Chain"</code>
(integer), and <code>"Value"</code> (numeric). See <strong>Examples</strong>, below.</p></dd>

<dt><code>nuts_params()</code></dt>
<dd><p><code>nuts_params()</code> methods return a molten data frame (see <code><a href="https://rdrr.io/pkg/reshape2/man/melt.html" class="external-link">reshape2::melt()</a></code>).
The data frame should have columns <code>"Parameter"</code> (factor), <code>"Iteration"</code>
(integer), <code>"Chain"</code> (integer), and <code>"Value"</code> (numeric). See <strong>Examples</strong>, below.</p></dd>

<dt><code>rhat()</code>, <code>neff_ratio()</code></dt>
<dd><p>Methods return (named) vectors.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="MCMC-nuts.html">MCMC-nuts</a>, <a href="MCMC-diagnostics.html">MCMC-diagnostics</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mc-stan.org/rstanarm/" class="external-link">rstanarm</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://mc-stan.org/rstanarm/reference/stan_glm.html" class="external-link">stan_glm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">wt</span>, data <span class="op">=</span> <span class="va">mtcars</span>, refresh <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">np</span> <span class="op">&lt;-</span> <span class="fu">nuts_params</span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">np</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Chain Iteration     Parameter     Value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1         1 accept_stat__ 1.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     1         2 accept_stat__ 0.9466923</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     1         3 accept_stat__ 0.9904577</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     1         4 accept_stat__ 0.9034513</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     1         5 accept_stat__ 0.9068563</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     1         6 accept_stat__ 0.9517777</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">np</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Chain Iteration Parameter    Value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23995     4       995  energy__ 87.72738</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23996     4       996  energy__ 86.46415</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23997     4       997  energy__ 86.80967</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23998     4       998  energy__ 86.47497</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23999     4       999  energy__ 88.53321</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24000     4      1000  energy__ 88.01486</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lp</span> <span class="op">&lt;-</span> <span class="fu">log_posterior</span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">lp</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Chain Iteration     Value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1         1 -86.12467</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     1         2 -86.80760</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     1         3 -86.45860</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     1         4 -86.53618</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     1         5 -86.71946</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     1         6 -88.15369</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">lp</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Chain Iteration     Value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3995     4       995 -86.19753</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3996     4       996 -86.36249</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3997     4       997 -86.38378</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3998     4       998 -85.83448</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3999     4       999 -86.94738</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4000     4      1000 -86.36645</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jonah Gabry, Tristan Mahr.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

